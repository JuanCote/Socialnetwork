{% extends "base.html" %}
{% load static %}
{% block content %}
{% csrf_token %}
    <div class="w-full">
        <div>
            <h1 class="font-semibold ml-3 text-lg flex text-blue-700 h-10 border-gray-300 pt-1">Friends</h1>
            <div class="bg-white px-4 py-2 mb-4 shadow-xl rounded-lg grid grid-cols-2 gap-4">
                {% for user in users %}
                    <div class="flex" id="user">
                        <img class="h-24 aspect-square rounded-l-lg" src="{{ 'media/images/kelly-sikkema-7cHA62PmwhQ-unsplash.jpg' }}" >
                        <div class="border-r border-t border-b flex items-center pr-2 rounded-r-lg w-full">
                            <p class="ml-4 text-lg">{{ user.first_name }} {{ user.last_name }}</p>
                            {% if user in subscriptions %}
                                <button id="{{ user.id }}" name="clicked" onclick="subscribe(this.id, {{ current_user }}, {{ user.username }})" class="px-4 py-2 ml-auto bg-blue-100 text-white font-semibold transition rounded-xl hover:bg-blue-400">Subscribe</button>
                            {% else %}
                                <button id="{{ user.id }}" name="notClicked" onclick="subscribe(this.id, {{ current_user }}, {{ user.username }})" class="px-4 py-2 ml-auto bg-blue-500 text-white font-semibold transition rounded-xl hover:bg-blue-400">Subscribe</button>
                            {% endif %}
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
    <script type="text/javascript" src="{% static 'main.js' %}"></script>
{% endblock %}